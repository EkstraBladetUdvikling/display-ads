!function(){"use strict";let e;const t=()=>(void 0===e&&(e=new URLSearchParams(window.location.search).has("debugHighImpact")),e),n=(e,...n)=>{t()&&console.log("[high-impact.js]",e,n.join(" "))},i=(e,n=!1,i=!1)=>{(e&&t()||i)&&(e.dataset.highImpactJs=!0,n&&(e.style.backgroundColor="red"))},o={slots:{}},a=e=>{const t=l();t.plugins&&"xandr"===t.plugins[0]&&(e.adUnitId=e.targetId);const i=`${e.adUnitId}`;o.slots[i]=e,n("Slot defined",i)},r={push:e=>{"function"==typeof e&&e()}},d=(e,t)=>{window.highImpactJs.templateConfig=window.highImpactJs.templateConfig||{},window.highImpactJs.templateConfig[e]=t},s=e=>{window.highImpactJs.config=e},l=()=>window.highImpactJs.config||{},c=(e,t)=>{let i=document.head.querySelector("style#style-high-impact-js-templates");i||(i=document.createElement("style"),i.id="style-high-impact-js-templates",document.head.appendChild(i));if(!Array.from(i.sheet?.cssRules||[]).some((t=>t.selectorText&&t.selectorText.includes(e))))try{return i.textContent+=t,!0}catch(t){n(`Failed to add style for ${e}:`,t)}return!0},p=e=>{let t=document.head.querySelector("style#style-high-impact-js-templates");if(t){const n=Array.from(t.sheet?.cssRules||[]);let i="";for(const t of n)t.selectorText&&t.selectorText.includes(e)||(i+=t.cssText+"\n");t.textContent=i}};var m={name:"topscroll",onRender:({adWrapper:e,adUnit:t,adIframe:n},i,o)=>{e.style="width: 100%;",t.style="width: 100vw;",n.style="width: 100vw;";const a=void 0!==i.topBarHeight?i.topBarHeight:o.topBarHeight||0,r=void 0!==i.zIndex?i.zIndex:o.zIndex||1000002,d=e.getBoundingClientRect(),s=window.getComputedStyle(e).marginLeft,l=d.left-parseInt(s,10),m=i.peekAmount;CSS.supports("height: 100dvh");const h=m?`calc(${m} - ${a}px)`:`calc(100vh - ${a}px)`,g=document.documentElement.clientWidth;c("topscroll",`\n      .high-impact-ad-wrapper-topscroll {\n        max-height: ${h};\n        clip-path: polygon(0 0, 100vw 0, 100vw ${h}, 0 ${h});\n        -webkit-clip-path: polygon(0 0, 100vw 0, 100vw ${h}, 0 ${h});\n        margin: 0 0 0 -${l}px !important;\n        padding: 0;\n        position: relative;\n        z-index: ${r};\n        display: block !important;\n        height: ${h} !important;\n        width: ${100-l/g*100}vw !important;\n      }\n      .high-impact-ad-unit-topscroll {\n        width: 100% !important;\n        height: ${h} !important;\n      }\n      .high-impact-ad-iframe-topscroll {\n        position: fixed !important;\n        left: 0;\n        z-index: 1;\n        width: 100% !important;\n        height: ${h} !important;\n        clip: rect(auto, auto, auto, auto);\n      }\n      body.high-impact-topscroll-rendered .takeover-ad {\n        position: static !important;\n      }\n    `);const u=()=>{const t=e.getBoundingClientRect().height;window.scrollTo({top:t,behavior:"smooth"})},f=document.createElement("div");f.style.position="absolute",f.style.bottom=0,f.style.left=0,f.style.width="100%",f.style.zIndex=999999999,f.style.display="flex",f.style.alignItems="center",f.style.justifyContent="center",f.style.flexDirection="column",f.style.pointerEvents="none",f.style.width="100%";const w=document.createElement("span");if(w.style.fontSize="18px",w.style.fontWeight="400",w.style.color="white",w.style.textShadow="1px 1px 1px rgba(0,0,0,0.5)",w.style.marginBottom="10px",w.textContent=i.title,f.appendChild(w),i.arrowUrl&&i.arrowUrl.length>0){const e=document.createElement("img");e.style.width="38px",e.style.height="38px",e.style.marginLeft="10px",e.style.marginBottom="10px",e.src=i.arrowUrl,e.addEventListener("click",(()=>{u()})),e.style.pointerEvents="auto",e.style.cursor="pointer",e.classList.add("high-impact-topscroll-arrow"),f.appendChild(e)}if(i.showCloseButton){const t=document.createElement("button");t.style.position="absolute",t.style.top="10px",t.style.left="10px",t.style.width="30px",t.style.height="30px",t.style.backgroundColor="rgba(0,0,0,0.5)",t.style.color="white",t.style.border="none",t.style.borderRadius="50%",t.style.fontSize="20px",t.style.cursor="pointer",t.textContent="X",t.style.zIndex=r+1,t.addEventListener("click",(()=>{u()})),e.appendChild(t)}e.appendChild(f);const y=i.fadeOnScroll;if(i.adLabel){const t=document.createElement("div");t.style.cssText=i.adLabel.css||"",t.style.zIndex=r+1,t.innerHTML=i.adLabel.content||"",t.classList.add("high-impact-topscroll-ad-label"),i.adLabel.clickable&&(t.style.cursor="pointer",t.addEventListener("click",(()=>{u()}))),e.prepend(t)}const v=new IntersectionObserver((t=>{t.forEach((t=>{y&&(e.style.opacity=t.intersectionRatio),0===t.intersectionRatio?(document.body.classList.add("high-impact-topscroll-is-hidden"),n.style.display="none"):(document.body.classList.remove("high-impact-topscroll-is-hidden"),n.style.display="block")}))}),{threshold:Array.from({length:101},((e,t)=>t/100))});return v.observe(e),document.body.classList.add("high-impact-topscroll-rendered"),{didRender:!0,destroy:()=>{document.body.classList.remove("high-impact-topscroll-rendered"),v.disconnect(),p("topscroll")}}}},h={name:"takeover",onRender:({adWrapper:e,adUnit:t,adIframe:n},i,o)=>{const a=void 0!==i.topBarHeight?i.topBarHeight:o.topBarHeight||0,r=void 0!==i.zIndex?i.zIndex:o.zIndex||1000002,d=i.peekAmount,s=d?`calc(${d} - ${a}px)`:`calc(100vh - ${a}px)`;if(i.topBarHtml){const n=document.createElement("div");n.style.cursor="pointer",n.classList.add("high-impact-takeover-top-bar"),n.addEventListener("click",(()=>{window.scrollTo(0,0),e.style.display="none"})),n.innerHTML=i.topBarHtml,e.insertBefore(n,t)}return c("takeover",`\n      .high-impact-takeover-top-bar {\n        height: ${a}px;\n      }\n      .high-impact-ad-wrapper-takeover {\n        max-height: 100vh;\n        height: 100vh !important;\n        margin: 0;\n        padding: 0;\n        z-index: ${r};\n        display: block;\n        background-color: #fff;\n        position: fixed;\n      }\n      .high-impact-ad-unit-takeover {\n        width: 100vw !important;\n        height: ${s} !important;\n      }\n      .high-impact-ad-iframe-takeover {\n        position: fixed !important;\n        left: 0;\n        z-index: 1;\n        width: 100% !important;\n        height: ${s} !important;\n        clip: rect(auto, auto, auto, auto);\n      }\n    `),document.body.classList.add("high-impact-takeover-rendered"),{didRender:!0,destroy:()=>{document.body.classList.remove("high-impact-takeover-rendered"),p("takeover")}}}},g={name:"midscroll",onRender:({adWrapper:e,adUnit:t,adIframe:n},i,o)=>{e.style="width: 100%;",t.style="width: 100vw;",n.style="width: 100vw;";const a=void 0!==i.topBarHeight?i.topBarHeight:o.topBarHeight||0,r=void 0!==i.bottomBarHeight?i.bottomBarHeight:o.bottomBarHeight||0,d=void 0!==i.zIndex?i.zIndex:o.zIndex||1000002,s=e.getBoundingClientRect(),l=window.getComputedStyle(e).marginLeft,m=s.left-parseInt(l,10),h=i.peekAmount,g=i.removeParallaxEffect?"relative":"fixed",u=document.documentElement.clientWidth,f=h?`calc(${h} - ${a}px)`:`calc(100vh - ${a}px)`;c("midscroll",`\n      .high-impact-ad-wrapper-midscroll {\n        visibility: visible;\n        clip-path: polygon(0 0, 100vw 0, 100vw ${f}, 0 ${f});\n        height: ${f} !important;\n        overflow: visible;\n        padding: 0;\n        position: relative !important;\n        margin: 0 0 0 -${m}px !important;\n        left: 0 !important;\n        top: 0 !important;\n        z-index: ${d};\n        width: ${100-m/u*100}vw !important;\n        min-height: ${f} !important;\n      }\n      .high-impact-ad-unit-midscroll {\n        height: calc(100vh - ${a}px - ${r}px) !important;\n        left: 0;\n        overflow: hidden;\n        position: ${g} !important;\n        top: ${a}px !important;\n        width: 100vw !important;\n      }\n      .high-impact-ad-iframe-midscroll {\n        width: 100% !important;\n        height: calc(100vh - ${a}px - ${r}px) !important;\n        max-height: none !important;\n        max-width: none !important;\n      }\n    `);return new IntersectionObserver((e=>{e.forEach((e=>{0===e.intersectionRatio?n.style.display="none":n.style.display="block"}))}),{threshold:Array.from({length:101},((e,t)=>t/100))}).observe(e),document.body.classList.add("high-impact-midscroll-rendered"),{didRender:!0,destroy:()=>{document.body.querySelector(".high-impact-ad-wrapper-midscroll")||(document.body.classList.remove("high-impact-midscroll-rendered"),p("midscroll"))}}}},u={name:"sitebar",onRender:({adWrapper:e,adUnit:t,adIframe:n},i,o)=>{const a=i.topBarHeight||o.topBarHeight||"105",r=e.getBoundingClientRect(),d=`min(${`calc((100vw - ${2*r.left-r.right+20}px) / 2)`}, ${`calc((100vh - ${a}px)/2)`})`;return Object.assign(e.style,{aspectRatio:"1 / 2",width:d,height:"auto"}),Object.assign(t.style,{width:"100%",height:"100%",border:"0pt none"}),Object.assign(n.style,{border:"0pt none",verticalAlign:"bottom",maxWidth:"100%",maxHeight:"100%",position:"relative"}),n.style.cssText+="; width: 100% !important; height: 100% !important;",c("sitebar",""),document.body.classList.add("high-impact-sitebar-rendered"),{didRender:!0,destroy:()=>{document.body.classList.remove("high-impact-sitebar-rendered"),p("sitebar")}}}},f={name:"double-fullscreen",requireAdMessage:!0,onRender:({adWrapper:e,adUnit:t,adIframe:n},i,o)=>{const a=void 0!==i.topBarHeight?i.topBarHeight:o.topBarHeight||0,r=e.getBoundingClientRect(),d=window.getComputedStyle(e).marginLeft,s=r.left-parseInt(d,10),l=document.documentElement.clientWidth;c("double-fullscreen",`\n      .high-impact-ad-wrapper-double-fullscreen {\n        visibility: visible;\n        clip-path: polygon(0 0, 100vw 0, 100vw 200vh, 0 200vh);\n        -webkit-clip-path: polygon(0 0, 100vw 0, 100vw 200vh, 0 200vh);\n        height: 200vh !important;\n        overflow: visible;\n        position: relative !important;\n        padding: 0;\n        margin: 0 0 0 -${s}px !important;\n        left: 0;\n        top: 0;\n        z-index: 1001;\n        display: block !important;\n        width: ${100-s/l*100}vw !important;\n        max-width: 100%;\n        box-sizing: border-box;\n      }\n\n      .high-impact-ad-unit-double-fullscreen {\n        height: 200vh !important;\n        left: 0;\n        top: 0;\n        overflow: hidden;\n        position: relative !important;\n        width: 100vw !important;\n        max-width: 100%;\n      }\n\n      .high-impact-ad-iframe-double-fullscreen {\n        width: 100vw !important;\n        height: calc(100vh - ${a}px) !important;\n        position: fixed !important;\n        top: ${a}px !important;\n        z-index: 2;\n      }\n    `);const m=new Map;document.body.classList.add("high-impact-double-fullscreen-rendered");let h=[],g=new Map;return window.addEventListener("message",(t=>{if("high-impact-js"===t.data.type){if("double-fullscreen"===t.data.template&&t.data.src){const e=document.createElement("iframe");e.src=t.data.src,e.id="ad-background",Object.assign(e.style,{border:"0",display:"block",position:"absolute",width:"100%",height:"100%",zIndex:1,maxWidth:"100%",boxSizing:"border-box"}),n.parentElement.insertBefore(e,n)}if("addWaypoint"===t.data.action){const n=t.data.threshold,i=t.data.callbackId;if(n){if(g.set(n,{source:t.source,callbackId:i}),!m.has(n)){const t=(t=>{const n=document.createElement("div");return n.id=`sentinel-${t}`,Object.assign(n.style,{position:"absolute",width:"100%",height:"1px",top:100*t+"%",left:0,pointerEvents:"none",zIndex:-1}),e.appendChild(n),n})(n);m.set(n,t)}const o=m.get(n),a=new IntersectionObserver((e=>{e.forEach((e=>{const t=g.get(n);t&&t.source.postMessage({isIntersecting:e.isIntersecting,callbackId:t.callbackId,intersectionRatio:e.intersectionRatio,threshold:n},"*")}))}),{threshold:[0,1],rootMargin:"0px"});a.observe(o),h.push(a)}}}})),{didRender:!0,destroy:()=>{p("double-fullscreen"),h.forEach((e=>e.disconnect())),m.forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)})),m.clear(),document.body.classList.remove("high-impact-double-fullscreen-rendered")}}}},w={name:"verticalvideo",onRender:({adWrapper:e,adUnit:t,adIframe:n},i,o)=>{e.style="width: 100%;",t.style="width: 100vw;",n.style="width: 100vw;";const a=e.getBoundingClientRect(),r=window.getComputedStyle(e).marginLeft,d=window.getComputedStyle(e).paddingTop,s=window.getComputedStyle(e).paddingBottom,l=a.left-parseInt(r,10),m=document.documentElement.clientWidth,h=100-l/m*100,g=m*(16/9)+parseInt(d,10)+parseInt(s,10),u=m*(16/9);return c("verticalvideo",`\n      .high-impact-ad-wrapper-verticalvideo {\n        visibility: visible;\n        height: ${g}px !important;\n        overflow: visible;\n        padding: 0;\n        margin-left: -${l}px !important;\n        left: 0 !important;\n        top: 0 !important;\n        width: ${h}vw !important;\n        min-height: ${g}px !important;\n      }\n      .high-impact-ad-unit-verticalvideo {\n        height: ${u}px !important;\n        left: 0;\n        overflow: hidden;\n        position: relative !important;\n        top: 0px !important;\n        width: 100vw !important;\n      }\n      .high-impact-ad-iframe-verticalvideo {\n        width: 100% !important;\n        height: ${u}px !important;\n        max-height: none !important;\n        max-width: none !important;\n      }\n    `),document.body.classList.add("high-impact-verticalvideo-rendered"),{didRender:!0,destroy:()=>{document.body.querySelector(".high-impact-ad-wrapper-verticalvideo")||(document.body.classList.remove("high-impact-verticalvideo-rendered"),p("verticalvideo"))}}}},y={name:"skins",requireAdMessage:!0,onRender:({adWrapper:e,adUnit:t,adIframe:i,adMessageData:o},a,r)=>{const d=void 0!==a.zIndex?a.zIndex:r.zIndex||1000002,s=document.querySelector(a.contentWrapperSelector);if(!s)return void n("[high-impact.js] Skins template: contentWrapperSelector not found");const l=parseInt(a.topAdHeight)||0,m=parseInt(r.topBarHeight)||0;let h=a.scrollTo.section||parseInt(a.scrollTo.height)||parseInt(r.scrollTo);const g=a.addPushdownElementToSideBanners||[];if("string"==typeof h){const e=document.querySelector(h);h=`${e.offsetTop+e.offsetHeight+m}`}else h+=m;g.length>0&&g.forEach((e=>{document.querySelectorAll(e).forEach((e=>{if(!e)return;const t=document.createElement("div");t.classList.add("pushdown-sidebanner"),e.insertBefore(t,e.firstChild),t.style.height=`${h}px`}))}));const u=(e,t)=>{const n=document.createElement("iframe");return n.src=e,n.id=t,n};if(o){if("high-impact-js"!==o.sender||"skins"!==o.template)return void n("Skins template: Invalid ad message data");if(!o.src||!o.src.leftBanner||!o.src.rightBanner)return void n("Skins template: Missing banner URLs in ad message data");const e=document.createElement("div");e.id="high-impact-adwallpaper",s.parentNode.insertBefore(e,s);const t=document.createElement("div");t.classList.add("high-impact-adWallpaper-sides"),e.appendChild(t);const i=document.createElement("div");i.classList.add("high-impact-adWallpaper-sides"),e.appendChild(i);const a=u(o.src.leftBanner,"high-impact-adWallpaper-sides-left");t.appendChild(a);const r=u(o.src.rightBanner,"high-impact-adWallpaper-sides-right");i.appendChild(r);const d=()=>{const e=window.innerWidth-document.documentElement.clientWidth,n=(document.documentElement.clientWidth-s.clientWidth)/2;t.style.width=`${n}px`,i.style.width=`${n+e}px`,r.style.width=`${n+e}px`,a.style.width=`${n}px`};d();const l={resize:d,scroll:null};window.addEventListener("resize",l.resize);if(document.querySelector('[class*="topscroll"]')){let t=[...document.querySelectorAll("iframe")].map((e=>e.closest('[id*="topscroll"], [class*="topscroll"]'))).find((e=>e));t&&t.offsetHeight;e.parentElement.classList.add("adWallpaper-parent-element");const n=document.createElement("style");n.innerHTML="\n          html.adnm-topscroll:not(.adnm-topscroll-fixed) #high-impact-adwallpaper {\n            position: absolute !important;\n          }\n          body.high-impact-topscroll-rendered:not(.high-impact-topscroll-is-hidden) #high-impact-adwallpaper {\n            top: 0px !important;\n          }\n          body.high-impact-topscroll-rendered:not(.high-impact-topscroll-is-hidden) #high-impact-adwallpaper iframe#high-impact-adWallpaper-sides-left {\n            position: sticky !important;\n            top: 0px !important;\n          }\n          body.high-impact-topscroll-rendered:not(.high-impact-topscroll-is-hidden) #high-impact-adwallpaper iframe#high-impact-adWallpaper-sides-right {\n            position: sticky !important;\n            top: 0px !important;\n          }\n          body.high-impact-skins-rendered.high-impact-topscroll-rendered:not(.high-impact-skins-scrolled) .adWallpaper-parent-element {\n            position: relative !important;\n          }\n          body.high-impact-topscroll-is-hidden.high-impact-skins-scrolled .adWallpaper-parent-element {\n            position: unset !important;\n          }\n        ",document.head.appendChild(n)}const c=()=>{e.offsetHeight;let t=window.scrollY;t>0&&t+m>=h?(e.style.position="absolute",e.style.top=`${h}px`,r.style.position="absolute",r.style.top="0",a.style.position="absolute",a.style.top="0",s.style.marginTop="unset",document.body.classList.add("high-impact-skins-scrolled")):(e.style.position="sticky",e.style.top=`${m}px`,r.style.position="fixed",r.style.top=`${m}px`,a.style.position="fixed",a.style.top=`${m}px`,s.style.marginTop=`-${h}px`,document.body.classList.remove("high-impact-skins-scrolled"))};l.scroll=c,window.addEventListener("scroll",l.scroll),c()}return c("skins",`\n      .high-impact-ad-wrapper-skins {\n        visibility: visible;\n        clip-path: polygon(0 0, 100vw 0, 100vw ${l}px, 0 ${l}px);\n        overflow: visible;\n        padding: 0;\n        position: relative !important;\n        left: 0;\n        z-index: ${d};\n        display: inline-block !important;\n        width: 100% !important;\n        height: auto !important;\n      }\n      .high-impact-ad-unit-skins {\n        height: ${l}px !important;\n        width: 100% !important;\n        border: 0px;\n        margin: auto;\n        text-align: center;\n        position: relative !important;\n      }\n      .high-impact-ad-iframe-skins {\n        width: 100% !important;\n        height: 100% !important;\n        position: absolute !important;\n        vertical-align: bottom;\n        display: block;\n        color-scheme: auto;\n      }\n      .high-impact-skins-rendered #high-impact-adwallpaper {\n        position: sticky;\n        padding: 0px;\n        left: 0;\n        width: 100vw !important;\n        height: ${h}px !important;\n        clip-path: polygon(0 0, 100vw 0, 100vw ${h}px, 0 ${h}px);\n        visibility: visible;\n        overflow: visible;\n        display: flex !important;\n        justify-content: space-between !important;\n      }\n      .high-impact-skins-rendered .high-impact-adWallpaper-sides {\n        overflow: hidden;\n        height: ${h}px !important;\n      }\n      .high-impact-skins-rendered .high-impact-adWallpaper-sides>iframe {\n        height: calc(100vh - ${m}px) !important;\n        position: fixed;\n        border: 0;\n        z-index: 1;\n      }\n      \n      .high-impact-skins-scrolled .high-impact-adWallpaper-sides>iframe {\n        position: absolute;\n      }\n      .high-impact-skins-rendered #high-impact-adWallpaper-sides-left {\n        left: 0 !important;\n      }\n      .high-impact-skins-rendered #high-impact-adWallpaper-sides-right {\n        right: 0 !important;\n      }\n    `),document.body.classList.add("high-impact-skins-rendered"),{didRender:!0,destroy:()=>{document.body.classList.remove("high-impact-skins-rendered"),p("skins"),eventHandlers.resize&&window.removeEventListener("resize",eventHandlers.resize),eventHandlers.scroll&&window.removeEventListener("scroll",eventHandlers.scroll)}}}};const v=e=>{try{const t=document.createElement("style");t.type="text/css",t.innerHTML="\n      html, body, adfm-ad, #sf_align, .adform-adbox, .adform-adbox img {width: 100% !important; height: 100% !important; object-fit: cover;} iframe[data-contents*='adform'],iframe[id^=\"google_ads_iframe\"],iframe[id^=\"asx_\"][id$=\"_iframe\"],div[id^=\"asx_t_\"]{width: 100vw !important;height: 100vh !important;}\n      [target='_blank'] img[src*='adnxs']{object-fit: cover !important;width: 100% !important;height: 100% !important;position: fixed;}\n      .banner {height: 0px !important;} .GoogleActiveViewClass, .GoogleActiveViewElement {transform: translate(calc(-50% + 50vw), 0); width: 100vw !important; height: 100vh !important; display: block;} .GoogleActiveViewClass img, .GoogleActiveViewElement img {width: 100vw !important; height: 100vh !important; object-fit: cover !important;} .GoogleActiveViewClass iframe {width: 100vw !important; height: 100vh !important;}.dcmads {width: 100%!important; height: 100% !important;}\n      iframe[src*='net/sadbundle/']{width: 100vw !important;height: 100vh !important;}\n    ",e.appendChild(t)}catch(e){n("Error applying responsive ad styling - possibly because of safe frame",e)}};function b(e){switch(e){case"./plugins/adform.js":return Promise.resolve().then((function(){return S}));case"./plugins/adn.js":return Promise.resolve().then((function(){return A}));case"./plugins/gam.js":return Promise.resolve().then((function(){return C}));case"./plugins/xandr.js":return Promise.resolve().then((function(){return W}));default:return new Promise((function(t,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}const x=e=>{n("Got Ad signal");const{adMessageData:t}=e;for(const i of Object.values(window.highImpactJs.plugins)){let o;i.getSlotFromSource&&e&&e.source&&(o=i.getSlotFromSource(e.source),n("Got slot from source")),o&&I({...o,fromAdResponsiveSignal:!0,adMessageData:t})}},I=e=>{let{adWrapper:t,adUnit:a,adIframe:r,size:d,html:s,elementId:c,fromAdResponsiveSignal:p=!1,_prebidAwaited:b=!1}=e;const x=(e=>{const t=`${e}`;if(n("Looking for config: ",t),o.slots[t]){const e=o.slots[t];return n("Found config: ",t,JSON.stringify(e)),e}})(c);if(!x)return void n(`No config found for ${c}`);if(x.rendered){if(p&&t.matches('[class*="high-impact"]'))return void n(`Already rendered ${c} - skipping`);n(`Already rendered ${c} - running cleanup`),(({adWrapper:e,adUnit:t,adIframe:n},i)=>{e.classList.remove(`high-impact-ad-wrapper-${i}`),t.classList.remove(`high-impact-ad-unit-${i}`),n.classList.remove(`high-impact-ad-iframe-${i}`)})({adWrapper:t,adUnit:a,adIframe:r},x.template),x.rendered.destroy(),x.rendered=!1}else((e,t={})=>{try{const n=e.querySelector("iframe"),i=n.contentDocument||n.contentWindow.document;if(t.testTagToBeInserted){for(const e of i.body.children)e.style.display="none";const e=document.createElement("div");e.innerHTML=t.testTagToBeInserted,i.body.append(...[...e.childNodes].map((e=>{if("SCRIPT"===e.tagName){if(e.src){const t=document.createElement("script");for(let n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t.src=e.src,t}const t=document.createElement("script");return t.innerHTML=e.innerHTML,t}return e})))}}catch(e){n("Error injecting test tag - possibly because of cross-origin restrictions or safe frame",e)}})(t,x);if(d||(d=[parseInt(r.width),parseInt(r.height)]),1==d[0]&&1==d[1]){try{let e=pbjs.getAllWinningBids();for(let n=0;n<e.length;n++)if(e[n].adUnitCode==t.id){d=[e[n].width,e[n].height];break}}catch(e){}if(1==d[0]&&1==d[1]&&!b&&window.pbjs)return n(`Awaiting Prebid render for ${t.id}`),void((e,t,n)=>{if(!window.pbjs||!pbjs.onEvent||!pbjs.offEvent)return;const i=n=>{if(n?.bid?.adUnitCode===e){try{pbjs.offEvent("adRenderSucceeded",i)}catch(e){}try{pbjs.offEvent("adRenderFailed",o)}catch(e){}const e=[Number(n.bid?.width),Number(n.bid?.height)];t(e,n)}},o=t=>{if(t&&t.adUnitCode===e){try{pbjs.offEvent("adRenderSucceeded",i)}catch(e){}try{pbjs.offEvent("adRenderFailed",o)}catch(e){}n?.(t)}};pbjs.onEvent("adRenderSucceeded",i),pbjs.onEvent("adRenderFailed",o)})(t.id,((i,o)=>{n(`Prebid size found for ${t.id}`),I({...e,size:i,_prebidAwaited:!0})}),(e=>{n(`Prebid render failed for ${t.id}`)}))}if(x.sizes&&x.sizes.length>0){if(!x.sizes.some((e=>JSON.stringify(e)===JSON.stringify(d))))return void n(`Size ${d} not in config for ${c} - ${x.sizes.join(", ")}`)}const E=(e=>{switch(e){case"midscroll":return g;case"topscroll":return m;case"sitebar":return u;case"double-fullscreen":return f;case"skins":return y;case"takeover":return h;case"verticalvideo":return w}})(x.template);if(E.requireAdMessage&&(x.waitForAdSignal=!0),x.waitForAdSignal&&!p)return;if((e=>!!window.highImpactJs.config.ignoreSlotOn&&window.highImpactJs.config.ignoreSlotOn(e))(s))return;const $=l();let S=(e=>window.highImpactJs.templateConfig&&window.highImpactJs.templateConfig[e]?window.highImpactJs.templateConfig[e]:{})(x.template);x.peekAmount&&(S.peekAmount=x.peekAmount);const k=E.onRender(e,S,$);k&&((({adWrapper:e,adUnit:t,adIframe:n},i)=>{e.classList.add(`high-impact-ad-wrapper-${i}`),t.classList.add(`high-impact-ad-unit-${i}`),n.classList.add(`high-impact-ad-iframe-${i}`),document.body.classList.add("high-impact-ad-rendered")})({adWrapper:t,adUnit:a,adIframe:r},x.template),x.rendered=k,i(t,$.debug,!0),i(a,$.debug),i(r),((e,t={})=>{try{const t=e.querySelector("iframe"),n=t.contentDocument||t.contentWindow.document;n.head&&v(n.head)}catch(e){n("Error applying responsive ad styling - possibly because of safe frame",e)}})(t,x),window.dispatchEvent(new CustomEvent("high-impact-ad-rendered",{detail:{size:{width:r.width,height:r.height},template:x.template}})))},E=async(e=[])=>{const t=await(async(e=[])=>{const t={};for(const i of e)try{t[i]=await b(`./plugins/${i}.js`),n(`${i} imported successfully!`)}catch(e){n(`Failed to import ${i}:`,e)}return t})(e);for(const e of Object.values(t)){if(e.init&&e.init(),e.getRenderedSlots){(await e.getRenderedSlots()).forEach((e=>{if(e.getResponseInformation){e.getResponseInformation().lineItemId&&I(e)}}))}e.onAdSlotRendered&&e.onAdSlotRendered(I)}return t};new Promise((async(e,t)=>{if(window.highImpactJs=window.highImpactJs||{cmd:[]},window.highImpactJs.initialized)t("Already initialized");else{if(n("high-impact.js init"),window.highImpactJs.initialized=!0,window.highImpactJs.templateConfig=window.highImpactJs.templateConfig||{},window.highImpactJs.config=window.highImpactJs.config||{},window.highImpactJs.defineSlot=a,window.highImpactJs.setTemplateConfig=d,window.highImpactJs.setConfig=s,window.highImpactJs&&Array.isArray(window.highImpactJs.cmd)&&window.highImpactJs.cmd.length>0)for(;window.highImpactJs.cmd.length;){const e=window.highImpactJs.cmd.shift();"function"==typeof e&&await e()}var i;window.highImpactJs.cmd=r,window.highImpactJs.config.plugins||(window.highImpactJs.config.plugins=["gam"]),window.highImpactJs.config.plugins&&(window.highImpactJs.plugins=await E(window.highImpactJs.config.plugins)),i=x,window.addEventListener("message",(e=>{try{const t=JSON.parse(e.data);if("high-impact-js"===t.sender&&"AD_RENDERED"===t.action){let n;try{n=e.source.name}catch(e){}i({source:e.source,iframeName:n,adMessageData:t})}}catch(e){}})),e()}}));const $=e=>{const t=e,n=t.firstElementChild.id;if(t){const[i,o]=[e.firstElementChild,e.querySelector('iframe[id^="adf_"]')];let a=[0,0],r="";try{r=o.contentDocument.documentElement.innerHTML;const e=o.contentWindow;a=[e.Adform.ADFUtilInstance.banners[e.ADFtagID].width,e.Adform.ADFUtilInstance.banners[e.ADFtagID].height]}catch(e){r="";try{o.contentDocument.querySelectorAll('script[src="https://pagead2.googlesyndication.com/pagead/js/dv3.js"]').forEach(((e,t)=>{const n=parseInt(e.getAttribute("data-dv3-width"),10),i=parseInt(e.getAttribute("data-dv3-height"),10);a=[n,i]}))}catch(e){}}try{if(adformContentWindow.Adform.ADFUtilInstance.banners[adformContentWindow.ADFtagID].banner.script.includes("pbjs.renderAd")){let e=pbjs.getAllWinningBids();for(let t=0;t<e.length;t++)if(e[t].adUnitCode==i.id){a=[e[t].width,e[t].height];break}}}catch(e){}return 0==a[0]&&0==a[1]&&(a=[parseInt(o.width),parseInt(o.height)]),{adWrapper:t,adUnit:i,adIframe:o,size:a,html:r,elementId:n,plugin:"adform"}}};var S=Object.freeze({__proto__:null,getRenderedSlots:async()=>new Promise((e=>{const t=document.body.querySelectorAll('iframe[id^="adf_"]');if(t.length>0){e(t.filter((e=>e&&e.adIframe&&e.adUnit)).map((e=>$(e))).filter((e=>e.adIframe&&e.adUnit)))}else e([])})),getSlotFromSource:e=>{const t=document.querySelectorAll('iframe[id^="adf_"]');if(!t)return;const n=(e,t)=>t===e||e!==window.top&&n(e.parent,t),i=Array.from(t).find((t=>n(e,t.contentWindow)));if(!i)return;const o=i.parentElement.parentElement;return $(o)},init:()=>{},onAdSlotRendered:e=>{}});const k=e=>{const t=e,n=t.firstElementChild.id;if(t){const[i,o]=[e.firstElementChild,e.querySelector('iframe[id^="adn-widget-"]')];let a=[o.width,o.height],r="";try{r=o.contentDocument.documentElement.innerHTML;const e=o.contentDocument.getElementsByClassName("contentWrapperPerItem")[0];a=[parseInt(e.getAttribute("data-creative-width")),parseInt(e.getAttribute("data-creative-height"))]}catch(e){}return{adWrapper:t,adUnit:i,adIframe:o,size:a,html:r,elementId:n,plugin:"adn"}}};var A=Object.freeze({__proto__:null,getRenderedSlots:async()=>new Promise((e=>{const t=document.body.querySelectorAll('iframe[id^="adn-widget-"]');if(t.length>0){e(t.filter((e=>e&&e.adIframe&&e.adUnit)).map((e=>k(e))).filter((e=>e.adIframe&&e.adUnit)))}else e([])})),getSlotFromSource:e=>{const t=document.querySelectorAll('iframe[id*="adn-widget-"]');if(!t)return;const n=(e,t)=>t===e||e!==window.top&&n(e.parent,t),i=Array.from(t).find((t=>n(e,t.contentWindow)));if(!i)return;const o=i.parentElement.parentElement;return o?k(o):void 0},init:()=>{},onAdSlotRendered:e=>{new MutationObserver((function(t){t.forEach((function(t){t.addedNodes.forEach((function(t){if("IFRAME"===t.tagName&&t.id.includes("adn-widget"))try{t.contentWindow.document.addEventListener("DOMContentLoaded",(()=>{const n=t.parentElement.parentElement,i=k(n);e(i)}))}catch(e){}}))}))})).observe(document.body,{childList:!0,subtree:!0})}});const L=e=>{const t=e.getSlotElementId(),n=document.getElementById(t);if(n){const[i,o]=n.querySelectorAll('div[id^="google_ads_iframe_"], iframe[id^="google_ads_iframe_"]'),a="";return{adWrapper:n,adUnit:i,adIframe:o,size:e.size,html:a,elementId:t,plugin:"gam"}}};var C=Object.freeze({__proto__:null,getRenderedSlots:async()=>new Promise((e=>{googletag.cmd.push((()=>{const t=googletag.pubads().getSlots().filter((e=>e&&e.adIframe&&e.adUnit)).map((e=>L(e)));e(t.filter((e=>e.adIframe&&e.adUnit)))}))})),getSlotFromSource:e=>{const t=document.querySelectorAll('iframe[id*="google_ads_iframe"]');if(!t)return;const n=(e,t)=>t===e||e!==window.top&&n(e.parent,t),i=Array.from(t).find((t=>n(e,t.contentWindow)));if(!i)return;const o=i.id.replace("google_ads_iframe_",""),a=googletag.pubads().getSlotIdMap()[o];return a?L(a):void 0},init:()=>{window.googletag=window.googletag||{cmd:[]},window.googletag.cmd||(n("Google tag is defined but no cmd array"),window.googletag.cmd=[])},onAdSlotRendered:e=>{googletag.cmd.push((()=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{if(t.isEmpty)return;const{slot:n}=t;n.size=t.size;const i=L(n);e(i)}))}))}});let z=[];const R=e=>{const t=e.targetId,n=document.getElementById(e.targetId);if(n){const[i,o]=n.querySelectorAll('div[id^="div_utif_"], iframe[id^="utif_"]'),a=e.banner?.content||o.contentDocument.body.innerHTML;return{adWrapper:n,adUnit:i,adIframe:o,size:[e.width||e.initialWidth,e.height||e.initialHeight],html:a,elementId:t,plugin:"xandr"}}};var W=Object.freeze({__proto__:null,getRenderedSlots:async()=>new Promise((e=>{apntag.anq.push((()=>{z=Object.values(apntag.getTag());const t=z.filter((e=>e&&e.utiframeId&&e.utDivId)).map((e=>R(e)));t.forEach((e=>{apntag.showTag(e.targetId),apntag.loadTags()})),e(t.filter((e=>e.utiframeId&&e.utDivId)))}))})),getSlotFromSource:e=>{const t=document.querySelectorAll('iframe[id*="utif"]');if(!t.length)return;const n=(e,t)=>t===e||e!==window.top&&n(e.parent,t),i=Array.from(t).find((t=>n(e,t.contentWindow)));if(!i)return;const o=i.id.replace("utif_","").split("_")[0],a=apntag.getTag(o);return a?R(a):void 0},init:()=>{window.apntag=window.apntag||{anq:[]}},onAdSlotRendered:e=>{apntag.anq.push((()=>{apntag.onEvent("adLoaded",(t=>{z.forEach((n=>{t.invCode=n.invCode;const i=R(t);e(i)}))}))}))}})}();
